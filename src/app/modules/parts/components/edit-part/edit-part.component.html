<div class="container">
    <form [formGroup]="editForm" (ngSubmit)="submitForm()">
      <div class="is-grouped">
        <label class="label">Название</label>
        <div class="field has-addons">
          <div class="control is-expanded">
            <input class="input" type="text" formControlName="title" placeholder="Название">
          </div>
          <div class="control" *ngIf="isEditAvailable()">
            <a class="button is-info" (click)="onEditClick()">
              Изменить
            </a>
          </div>
        </div>
        <p class="help is-warning" *ngIf="editForm.get('title').touched && editForm.hasError('required', ['title'])">Название не должно быть пустым</p>
      </div>
      <div class="field is-grouped" style="margin-top: 10px">
        <div class="field">
          <label class="label">Тип</label>
          <div class="control">
            <div class="select">
              <select formControlName="type">
                <option disabled value=-1>Выберите тип</option>
                <option *ngFor="let field of availableTypes; let i = index" [value]="i">{{field}}</option>
              </select>
            </div>
          </div>
        </div>
        <div class="field" style="margin-left: 10px" *ngIf="editForm && editForm.get('type').value >= 0 && availableSubtypes.length > 0">
          <label class="label">Подтип</label>
          <div class="control">
            <div class="select">
              <select formControlName="subtype">
                  <option disabled value=-1>Без подтипа</option>
                  <option *ngFor="let field of availableSubtypes; let i = index" [value]="i">{{field}}</option>
                </select>
            </div>
          </div>
        </div>
      </div>
      <div class="field" formArrayName="properties" *ngIf="(propertiesList != null && propertiesList.length > 0 ) || isEditMode" style="margin-top: 10px">
        <label class="label">Параметры</label>
        <div class="field has-addons" *ngFor="let property of propertiesList; let i = index">
          <div class="control">
            <input class="input" type="text" [formControlName]="i" placeholder="Параметр">
          </div>
          <div class="control" *ngIf="isEditMode">
            <a class="button is-danger" (click)="onDeletePropertyClick(i)">
              X
            </a>
          </div>
        </div>
        <a class="button is-warning" (click)="onAddPropertyClick()" *ngIf="isEditMode">
          Добавить
        </a>
      </div>
      <div class="field">
        <label class="label">Описание</label>
        <div class="control">
          <textarea class="textarea" type="password" formControlName="description" placeholder="Описание"></textarea>
        </div>
      </div>
      <div class="field is-grouped">
        <div class="control">
          <button type="submit" class="button is-link" *ngIf="isEditMode" [disabled]="!editForm.dirty || !editForm.valid">Сохранить</button>
        </div>
        <div class="control">
            <button type="button" class="button is-text" *ngIf="isEditMode" [disabled]="!editForm.valid" (click)="onCancelClick()">Отмена</button>
          </div>
      </div>
    </form>
    <br>
  </div>